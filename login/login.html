<!DOCTYPE html>
<html>
  <head>
    <title>Login - Banking Application</title>
    <link rel="stylesheet" type="text/css" href="../styles.css" />
  </head>
  <body>
    <div class="container">
      <header>
        <h1>Banking Application</h1>
      </header>
      <section>
        <h2>Login to your Account</h2>
        <form id="login">
          <label for="email">Email:</label>
          <input type="email" name="email" id="email" required />
          <label for="password">Password:</label>
          <input type="password" name="password" id="password" required />
          <select id="account-type" name="account-type">
            <option value="savings">Savings</option>
            <option value="current">Current</option>
          </select>
          <input type="submit" value="Login" class="btn" />
        </form>
        <p>
          Don't have an account?
          <a href="./create-account.html">Create an account</a>
        </p>
      </section>
    </div>
  </body>
  <script src="../index.js"></script>
  <script>
    const form1 = document.getElementById("login");
    form1.addEventListener("submit", (event) => {
      event.preventDefault();
      const formData = new FormData(form1);
      let msg = verifyUser(
        formData.get("email"),
        hashPassword(formData.get("password")),
        formData.get("account-type")
      );
      if (msg === "True") {
        window.location.href = "/user-account.html";
      } else {
        form1.reset();
        alert(msg);
      }
    });
  </script>
</html>
